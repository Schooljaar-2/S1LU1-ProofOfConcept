<div class="container py-5"></div>
<div class="row justify-content-center align-items-start" style="max-width:100vw; margin:0 auto;">
    <!-- Profile Card (Left) -->
    <div class="col-md-4">
        <div class="card shadow-lg border-0 bg-dark text-light mb-4">
            <div class="card-body d-flex flex-column align-items-center">
                <img src="./images/AnonymousUser.png" class="rounded-circle mb-3"
                    style="width: 130px; height: 130px; object-fit: cover; border: 3px solid #ffc107;">
                <h4 class="mb-1">{{customerInfo.first_name}} {{customerInfo.last_name}}</h4>
                <h6 class="text-warning">@{{customerInfo.username}}</h6>
                <hr class="w-75 my-3" />
                <div class="w-100">
                    <h6 class="mb-2"><i class="bi bi-geo-alt-fill text-warning"></i> Address</h6>
                    <ul class="list-unstyled mb-0 ps-2">
                        <li><b>Country:</b> {{customerInfo.country}}</li>
                        <li><b>City:</b> {{customerInfo.city}}</li>
                        <li><b>District:</b> {{customerInfo.district}}</li>
                        <li><b>Postal Code:</b> {{customerInfo.postal_code}}</li>
                        <li><b>Street:</b> {{customerInfo.address}}</li>
                    </ul>
                </div>
                <div class="w-100 mt-4">
                    <h6 class="mb-2"><i class="bi bi-info-circle text-warning"></i> Info</h6>
                    <ul class="list-unstyled mb-0 ps-2">
                        <li><b>Email:</b> {{customerInfo.email}}</li>
                        <li><b>Phone:</b> {{customerInfo.phone}}</li>
                    </ul>
                </div>
                <div class="w-100 mt-3">
                    <h6 class="mb-2"><i class="bi bi-shop text-warning"></i> Store</h6>
                    <ul class="list-unstyled mb-0 ps-2">
                        <li><b>Store:</b> {{customerInfo.store_name}}</li>
                    </ul>
                </div>
                <div class="w-100 mt-3 d-flex justify-content-center">
                    <div class="d-flex justify-content-between w-100">
                        <a href="/customer/updateProfile" class="btn btn-warning btn-lg">Edit</a>
                        <a href="/logout" class="btn btn-danger btn-lg">Logout</a>
                    </div>
                </div>
            </div>
        </div>
    </div>

    <!-- Rentals Dashboard (Right) -->
    <div class="col-md-7">
        <div class="card shadow-lg border-0 bg-dark text-light p-4" style="margin-bottom: 100px;">
            <h2 class="mb-2 text-center" style="color: #ffc107;">Rentals</h2>
            <hr class="w-50 mx-auto mb-4" style="border-top: 3px solid #ffc107; opacity: 1;" />
            <!-- Active Rentals Section -->
            <h4 class="mt-3" style="color: #ffc107;">Active Rentals</h4>
            <div style="height: 20vh; overflow-y: auto; background: #232129; border-radius: 8px; padding: 0 1rem 1rem 1rem; margin-bottom: 1.5rem;">
                {{#if rentalInformation.activeRentals.length}}
                    <table class="table table-dark table-striped table-bordered align-middle mb-0" style="padding: 1rem;">
                        <thead style="position: sticky; top: 0; background: #343a40; z-index: 2;">
                            <tr>
                                <th scope="col">Title</th>
                                <th scope="col">Rented On</th>
                                <th scope="col">Rental Duration</th>
                                <th scope="col">Store</th>
                                <th scope="col">Amount</th>
                                <th scope="col">Status</th>
                                <th scope="col">Replacement Cost</th>
                                <th scope="col">Movie</th>
                            </tr>
                        </thead>
                        <tbody>
                            {{#each rentalInformation.activeRentals}}
                                <tr>
                                    <td><b>{{title}}</b></td>
                                    <td>{{formatDate rental_date}}</td>
                                    <td>{{rental_duration}} days</td>
                                    <td>{{store_name}}</td>
                                    <td>€{{amount}}</td>
                                    <td>
                                        <span class="fw-bold {{#if overdue}}text-danger{{else}}text-success{{/if}}">
                                            {{#if overdue}}Overdue{{else}}On time{{/if}}
                                        </span>
                                    </td>
                                    <td>
                                        <span style="color: {{#if overdue}}#dc3545{{else}}#fff{{/if}}; font-weight: bold;">
                                            €{{replacement_cost}}
                                        </span>
                                    </td>
                                    <td>
                                        <a href="/movies/{{film_id}}" class="btn btn-sm btn-warning">Go to movie</a>
                                    </td>
                                </tr>
                            {{/each}}
                        </tbody>
                    </table>
                {{else}}
                    <div class="alert alert-info text-center mb-0" role="alert" style="background: #DC3545; color: #ffffff; border: 1px solid #4d4d4d;">
                        No active rentals
                    </div>
                {{/if}}
            </div>
            <!-- Rental History Section -->
            <h4 class="mt-4" style="color: #ffc107;">Rental History</h4>
            <div style="height: 30vh; overflow-y: auto; background: #232129; border-radius: 8px; padding: 0 1rem 1rem 1rem;">
                {{#if rentalInformation.rentalHistory.length}}
                    <table class="table table-dark table-striped table-bordered align-middle mb-0" style="padding: 1rem;">
                        <thead style="position: sticky; top: 0; background: #343a40; z-index: 2;">
                            <tr>
                                <th scope="col">Title</th>
                                <th scope="col">Rented On</th>
                                <th scope="col">Returned On</th>
                                <th scope="col">Store</th>
                                <th scope="col">Amount</th>
                                <th scope="col">Movie</th>
                            </tr>
                        </thead>
                        <tbody>
                            {{#each rentalInformation.rentalHistory}}
                                <tr>
                                    <td><b>{{title}}</b></td>
                                    <td>{{formatDate rental_date}}</td>
                                    <td>{{formatDate return_date}}</td>
                                    <td>{{store_name}}</td>
                                    <td>€{{amount}}</td>
                                    <td>
                                        <a href="/movies/{{film_id}}" class="btn btn-sm btn-warning">Go to movie</a>
                                    </td>
                                </tr>
                            {{/each}}
                        </tbody>
                    </table>
                {{else}}
                    <div class="alert alert-info text-center mb-0" role="alert" style="background: #DC3545; color: #ffffff; border: 1px solid #4d4d4d;">
                        No rentals made
                    </div>
                {{/if}}
            </div>
        </div>
    </div>
</div>
</div>